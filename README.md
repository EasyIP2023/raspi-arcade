# Battery Powered Raspberry Pi Arcade
Note This is my first time using a lot of these tools. Yes currently at this time an amateur wood cutter. Reason for this project make for Christmas mom and sister 2 Battery Powered Raspberry Pi Arcade's.

**Click image below to watch the video recorded using SnapChat**

[![BPRA](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181218_023538.jpg)](https://www.youtube.com/watch?v=H5pTEm7Kk1I "Battery Powered Raspi Arcade Display - Click To Watch")

## Parts
This project in total cost me around $350 largely due to the fact that I needed extra tools and I am making two.

**Tools I Have**
* [Digital Multimeter](https://www.amazon.com/AstroAI-Digital-Multimeter-Voltage-Tester/dp/B01ISAMUA6/ref=sr_1_5?s=hi&ie=UTF8&qid=1544831949&sr=1-5&keywords=Digital+Multimeter)
* [Soldering Iron Kit](https://www.amazon.com/Magentos-Superb-Adjustable-Temperature-Soldering/dp/B0744P55YR/ref=sr_1_4?s=hi&ie=UTF8&qid=1544831993&sr=1-4&keywords=soldering+iron+kit)
* [Wire Strippers](https://www.amazon.com/DOWELL-Stripper-Multi-Function-Tool%EF%BC%8CProfessional-Craftsmanship/dp/B06X9875Z7/ref=sr_1_5?s=hi&ie=UTF8&qid=1544832068&sr=1-5&keywords=wire+strippers)
* [Breadboard](https://www.amazon.com/EL-CP-003-Breadboard-Solderless-Distribution-Connecting/dp/B01EV6LJ7G/ref=sr_1_4?ie=UTF8&qid=1544834775&sr=8-4&keywords=breadboard)

**Amazon**
* 4 * [EG STARTS 5X 30mm Arcade LED Lights Push Button](https://www.amazon.com/gp/product/B01N11BDX9/ref=oh_aui_detailpage_o02_s02?ie=UTF8&psc=1)
* 2 * [EG STARTS Red Arcade Classic Competition 5 Pin Stick 5P Rocker 4 - 8 Ways Joystick](https://www.amazon.com/gp/product/B01N2G0H1T/ref=oh_aui_detailpage_o02_s02?ie=UTF8&psc=1)
* 2 * [Raspberry Pi 3 B+ Motherboard](https://www.amazon.com/gp/product/B07BDR5PDW/ref=oh_aui_detailpage_o02_s01?ie=UTF8&psc=1)
* 2 * [SanDisk 32GB Ultra microSDXC](https://www.amazon.com/gp/product/B073JWXGNT/ref=oh_aui_detailpage_o02_s01?ie=UTF8&psc=1)
* 2 * [Adafruit PowerBoost 1000 Charger](https://www.amazon.com/gp/product/B01BMRBTH2/ref=oh_aui_detailpage_o02_s00?ie=UTF8&psc=1)
* 2 * [Lithium Ion Polymer 3.7v Rechargeable Battery 2500mAh](https://www.amazon.com/gp/product/B01KJ07A2Q/ref=oh_aui_detailpage_o01_s00?ie=UTF8&psc=1)
* [Gikfun Solder-able Breadboard](https://www.amazon.com/gp/product/B071R3BFNL/ref=oh_aui_detailpage_o00_s00?ie=UTF8&psc=1)
* [Switches](https://www.amazon.com/gp/product/B01N2U8PK0/ref=oh_aui_detailpage_o02_s01?ie=UTF8&psc=1)
* [Copper Cable](https://www.amazon.com/gp/product/B07FD9DZF8/ref=oh_aui_detailpage_o02_s01?ie=UTF8&psc=1)

**Home Depot**

These parts were a lot cheaper in store. Just an FYI and with coupons I saved $100 dollars :).
* [RYOBI ONE 18V Starter Drill](https://www.homedepot.com/p/Ryobi-18-Volt-ONE-Lithium-Ion-LITHIUM-HP-6-0-Ah-Starter-Kit-w-Bonus-ONE-Brushless-Drywall-Screw-Gun-P151-P225/307572185)
* [RYOBI 11pcs Wood Drilling Kit](https://www.homedepot.com/p/Ryobi-Wood-Drilling-Kit-11-Piece-AR2082/206121415)
* [RYOBI Jig Saw](https://www.homedepot.com/p/Ryobi-18-Volt-ONE-Orbital-Jig-Saw-Tool-Only-P5231/301916606)
* [Dermel 200 series](https://www.homedepot.com/p/Dremel-200-Series-1-15-Amp-Dual-Speed-Corded-Rotary-Tool-Kit-with-15-Accessories-and-1-Attachment-200-1-15/202349458)
* 1/2 2 by 4 Wood
* 8 * 9" Traditional Leg (Pierna Tradicional)
* Everbilt #8-32 x 1-1/2 in machine screws, 100 pcs
* Everbilt #8-32 machine screw nuts, 100 pcs
* Safety Glasses
* Impact Gloves
* Hot Glue Gun
* Gorrilla Glue
* 25ft Anvil Tape Measure
* Basic paint brush
* Semi-Gloss Glidden Red 2-coat Paint (GLN6413N)

**Walmart**
* Electric Tape
* Solder
* Cord and Battery pack that can draw 2.5A (That's what the pi needs!!!)

**Staples**
* Pencil Compas
* Sharpie's

# Creating
## Building/Shaping The Frame

1. Take your 1/2 2 by 4 Wood and draw 4 circles with a radius of 5". The diameter should be about 10".

![Board With Circles](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181214_200639.jpg)

2. Using the [RYOBI Jig Saw](https://www.homedepot.com/p/Ryobi-18-Volt-ONE-Orbital-Jig-Saw-Tool-Only-P5231/301916606) cut the board into 4 circles of equal size.
3. Clean Workspace!!!!! :)
4. Take the 8 * 9" Traditional Leg (Pierna Tradicional) and cut off the tip to shorten height of case. I did this because my coper wires weren't going to reach the pi.

![4 Circles and Pillars](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181214_213226.jpg)

5. Clean Workspace!!!!! :)
6. Use the [dermel tool](https://www.homedepot.com/p/Dremel-200-Series-1-15-Amp-Dual-Speed-Corded-Rotary-Tool-Kit-with-15-Accessories-and-1-Attachment-200-1-15/202349458) to shape wood and make edges smooth.

**README: At the time I should of thought of cutting the button holes before cutting holes for the 4 pillars. That way you can position your pillars based off the orientation of the buttons not the other way around**

7. For both bottom plates insert 4 holes. Two on the left about 1 1/4" from the circles edge and about a little less than 4" apart. The right two holes need to be about 1" from the circles edge and about 6 1/2" apart. **Note When doing this, most of these measurements are just eye balled**. The reason you need to make 4 holes is because the traditional leg has a screw at the bottom all you need to do is screw it in.

![Leg Screw](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181215_031938.jpg)
![4 Holes](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181215_032258.jpg)

**This is how it should look**

![Top Pillars](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181215_032602.jpg)

8. Now draw the 8 button + joystick layout on the wood. I put the pillars on, flipped it over and just eyeballed it. So my button measurements aren't accurate.
  * Used a 5/8 spade bit to cut the joystick hole
  * Used a 1 1/8 spade bit to cut the buttons

![1 1/8 Spade Bit](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181217_144101.jpg)
![Holes Cut](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181215_215323.jpg)

9. Now that the buttons are cut. Use the dermal tool to shape a rectangular enclave. Achieved by outlining the joystick. So, that you have room to maneuver the joystick remember the wood is a 1/2 2 by 4.

![Button Holder](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181216_181323.jpg)

10. Grab one of your button holders and outline each button. After using the dermal tool shape holes so that the button holders fit between them. **NOTE IT DOES NOT NEED TO BE PERFECT!!! PARTS 8-10 TOOK ME LONG OF TIME!!!!**
11. Take your joystick and insert it into the joystick enclave. Draw each edge circling the holes where your 8 - 32 * 1 - 1/2 inch screws would be inserted. To drill the holes use a 3/16 inch drill bit.

![drill bit](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181216_185612.jpg)
![Shaped buttons](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181216_182343.jpg)

## Paint/Glue

1. Remove the traditional legs and paint all 4 plates both sides using the Semi-Gloss Glidden Red 2 coat Paint (GLN6413N). I decided to add 4 coats to the top and 3 at the bottom of each plate for a total of 14 coats. I let it dry over night.
2. After the next morning I inserted buttons holders.
3. Then Gorrilla Glue pillars onto the board screwing it in during the process.

![Painted](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181217_112618.jpg)

## Carving Button Names

After paint has dried carve button letters into plates using the dermal tool.

![Buttons Carved](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181217_162638.jpg)

# Soldering and Piecing Together

1. I soldered 4 wires on all 16 buttons first. I used male to female copper cables for pins on the PI and male to male for the power rails. Here's the layout for the buttons

![Button Layout](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181217_162941.jpg)

2. After soldering I screwed the buttons into the button holders.
3. Installed the joystick into the enclave made earlier. Add screws and nuts.
4. Use the electric tape to put appropriate wires together. This is for better wire management.
5. Solder power and GND copper wires onto the power and GND rails on the perf board. Be sure to connect a resistor in series because I **Blew out the LED's on the buttons**
6. Solder wires from the 5V out and GND pins on the 1000c PowerBoost charger to the power and GND rails on the perf board.

![Perf Board](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181217_221041.jpg)

7. Solder USB A connector onto the 1000c PowerBoost Charger
8. Solder the two pins on the switch to the GND and EN (enable) pins on the 1000c PowerBoost charger.
9. Now Gorrilla Glue the top on. Let it dry
10. Hot Glue the pi and PowerBoost charger to bottom plate and pref board to one of the pillars
11. Insert button and joystick wires to appropriate pins on the pi. Here's the GPIO layout for a 6-pin button usage found here on [adafruit.com](https://learn.adafruit.com/retro-gaming-with-raspberry-pi/adding-controls-hardware). Here's the wire layout for the particular joystick I bought just for this project.
  - I used GPIO pin 12 as the Left Shoulder button and the GND right next to it
  - I used GPIO pin 13 as the Right Shoulder button and 20 as GND

![6 Pin Layout](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/gaming_6-button-pinout.png)
![Joystick](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181217_190554.jpg)

12. Take your power cord and insert it into the USB A connector on the PowerBoost charger. Wrap it around one pillar and insert the other into the pi. Make sure it can hold at least 2.5A because that is how much is needed to power the pi.
13. Check if everything works!!!!
14. If everything works hot glue the top of the pins on the pi

# RetroPie Config and Install

I actually did this step before even cutting wood, but I put it last.

1. Download [retro pie](https://retropie.org.uk/download/) for whatever version of the pie you have.
2. I used [dd](https://wiki.archlinux.org/index.php/Dd) to install it on my micro USB, but you can use anything you want. ```gunzip -c /path/to/retropie.img.gz | sudo dd of=/dev/sdb```
4. Using a keyboard configure RetroPie
  - hit F4 once loaded
  - [Configure your keyboard](https://thepihut.com/blogs/raspberry-pi-tutorials/25556740-changing-the-raspberry-pi-keyboard-layout) making is US if need be
  - Configure wifi
    - ```sudo -s```
    - ```wpa_passphrase "ssid" "password" >> /etc/wpa_supplicant/wpa_supplicant.conf```
  - Install vim ```sudo apt install vim```
  - Enable ssh access on reboots. Can remove it later
    - ```sudo systemctl enable ssh.service```
  - Download and install [Adafruit retropie config](https://learn.adafruit.com/retro-gaming-with-raspberry-pi/adding-controls-software). It'll ask if you want to reboot. Do so!
    - ```cd```
    - ```curl https://raw.githubusercontent.com/adafruit/Raspberry-Pi-Installer-Scripts/master/retrogame.sh > retrogame.sh```
    - ```chmod +x retrogame.sh```
    - ```sudo ./retrogame.sh```
  - Using vim update the [/boot/retrogame.cfg](https://raw.githubusercontent.com/EasyIP2023/raspi-arcade/master/retrogame.cfg). Here's a look at mines.
    - I used GPIO pin 12 as the Left Shoulder button and the GND right next to it
    - I used GPIO pin 13 as the Right Shoulder button and 20 as GND
  - Make sure audio goes through HDMI
    - Inside the /boot/config.txt file uncomment the line with ```hdmi_drive=2```
    - Here's a [YouTube link](https://www.youtube.com/watch?v=4V9tQPNwk8M) to help if you have any other audio related issues
  - Change passwords
    - ```sudo -s```
    - ```passwd``` to change root password
    - ```passwd pi``` to change pi's password
5. Installing Roms
  - I labeled the names of the folder that you should scp these [Roms](https://github.com/EasyIP2023/raspi-arcade/tree/master/games) into. You can download more games here at [gamulator.com](https://www.gamulator.com/roms) at your leisure
  - **Example:** ```scp games/snes/* pi@<ip address>:/home/pi/RetroPie/roms/snes```

# Final Look

![Both](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181218_030055.jpg)
![Top](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181218_023520.jpg)
![Left Side](https://github.com/EasyIP2023/raspi-arcade/blob/master/pics/20181218_023520.jpg)
